# Changelog

所有关于项目的重要更改都将记录在此文件中。

## [Unreleased]

## [0.0.1] - 2025-02-24

### Fixed
-修改了etap数据接口的命名，统一为excel2jpc

-修改了jpc数据结构，包含load信息，且branch包含元件信息如变压器、电缆、传输线、阻抗

-改进了潮流计算过程中对负荷类型的处理：从只能控制整体静态模型精确到可以控制每一个负荷

-对数据接口进行了修改

-暂时屏蔽了数据接口的逆变器处理环节

### Added
-更新了find_island函数，用于处理输入数据中的孤立节点

-增加了process_loa_data等用于修改数据接口的函数

## [0.0.1] - 2025-02-25

### Fixed
-重启了数据接口的逆变器处理

-修改runhpf并测试通过了交直流混合潮流的程序

-相较于之前无论是交流测还是直流测精度都有所上升

-修改了直流侧负载的数据结构

-修改了excel2jpc函数，使其暂时能对除交流负荷以外的其它元件进行自检验（直流元件暂不支持）

### Added
-增加了etap元件导入后的自检验功能

-增加函数文件jpc_validate.jl

-增加函数文件model_examine.jl

## [0.0.1] - 2025-02-26

### Fixed
-完成了etap交流元件、直流元件、交直流元件的自检函数

<!-- -将输出结果导出为类似matpower的简报 -->

-修改了jpc的branch结构，使其能够区分transformer以及其它branch

-增加了交流潮流输出简报的功能


### Added
-新增函数文件pf_summary.jl

## [0.0.1] - 2025-02-27

### Fixed
-修改了find_island函数，使其保留孤立的PV、ref节点，删去纯PQ节点孤网

-修改了gen的结构，将gencost嵌在gen的后面

-对分开计算的孤岛潮流，将其结果重新整合

### Added
-新增函数文件merge_results.jl

-新增函数文件extract_island.jl

## [0.0.1] - 2025-02-27

### Added
-完成了调用时序潮流python脚本的编写

-将交直流混合潮流的换流器部分功率进行松弛，借用gurobi等优化求解器进行求解，得到的结果代入etap校验成功

## [0.0.1] - 2025-03-05

### Fixed
-修改了etap数据接口，解决了load节点数据更新找不到key的问题

### Todo
-通过交直流混合潮流发现修改系统中单个负荷的zip类型会引发较大的误差，目前在matpower中已经实现该功能，但其结果仍有一定差别，需要及时修正(以解决)

## [0.0.1] - 2025-03-06

### Fixed
-修复了julia无法识别nargout而导致的makeSbus输出结果不理想的问题，提高了计算精度

-对具有不同负荷类型的系统进行测试，通过将自研模块和matpower的潮流结果进行对比，绝对误差小于3e-5

### Todo

-元件模型精度仍不够高，在系统负荷类型不全为纯功率或纯阻抗的情况下，etap计算结果同自研模块有千分之一以上的误差，继续修复


## [0.0.1] - 2025-03-07

### Added
-增加了函数文件runprepf.jl以及dc_preprocess.jl，利用DC Power Flow 完成了初值的预处理

### Todo
-加速效果并不明显，可能与DC Power flow 只更新相角不更新电压有关，有待继续调试

## [0.0.1] - 2025-03-08

### Fixed
-拓展了bus、branch、gen以适应拓扑优化的要求

-完善了预处理技术

-对多孤岛进行了多线程处理

## [0.0.1] - 2025-03-09


### Fixed
-解决ETAP变压器的二次侧修改负荷类型误差变大的问题

-对交直流混合潮流的ETAP结果和自研模块的结果进行对比，最大绝对误差小于1e-3

-修复了excel2jpc中存在的未连接的负荷没有及时消除的问题

### Added 
-增加了几组测试文件，测试了调用CUDSS包的求解非对称线性方程组的加速性能

-测试了将稀疏矩阵分割成块使用GPU不同线程块进行计算的性能，加速效果不如CUDSS


## [0.0.1] - 2025-03-10

### Fixed
-解决了CUDA.jl与其它依赖存在冲突的问题，编译器版本需要更新到 v1.11.2以上

### Added 
-增加了基于CUDSS的交流潮流函数，但是就目前情况而言，仍然存在一定缺陷：首先在比case13659pegase母线数小的系统上，速度无法超越传统的LU分解，而在像case13659pegase这样的超大规模电力系统，LU分解精度问题会影响每次迭代中线性方程组的求解精度，不精确的线性求解可能导致牛顿法迭代收敛变慢或甚至不收敛。

-新增了基于CUDSS的交流潮流测试对比脚本test_ac_power_flow_gpu.jl

## [0.0.1] - 2025-03-11

### Fixed
-发现并解决了潮流计算过程中，load matrix没有随内部外部索引变化的问题

-发现并解决了excel2jpc单独读取直流侧元素并构成jpc格式失败的问题

-解决了读取直流电缆矩阵读取到交流电缆矩阵的问题

-修复了inverter的VSC侧无法生成纯功率负荷的问题

### Added
-新增charger的处理函数文件process_charger.jl

-新增直流元件自检脚本dc_element_validate.jl

## [0.0.1] - 2025-03-12

### Added
-增加了交直流混合潮流对比函数文件etap_compared.jl

-增加了测试文件test_ac_power_flow_etap.jl
